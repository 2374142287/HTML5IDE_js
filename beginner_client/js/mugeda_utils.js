MugedaMraid={mraidReadyStatus:0,mraidState:void 0,idResized:void 0,setMraidState:function(a){this.mraidState=a.toLowerCase();switch(this.mraidState){case "default":if(MugedaMraid.idResized)document.body.removeChild(G(MugedaMraid.idResized)),MugedaMraid.idResized=void 0;typeof Mugeda!="undefined"&&Mugeda.gotoAndPlay&&Mugeda.gotoAndPlay(1);break;case "resized":MugedaMraid.idResized&&setTimeout(function(){var a=G(MugedaMraid.idResized);if(a)a.style.display="block"},50)}},openLink:function(a,e){this.mraidReadyStatus==
1?e=="internal"?mraid.open(a):e=="expand"?this.expand(a,0):window.open(a):e=="internal"?window.location=a:window.open(a);MugedaTracker.fireEvent({category:"link",action:e,label:a,value:0})},expand:function(a,e,g){if(this.mraidReadyStatus!=1)a&&a.length&&this.openLink(a,"expand");else{var g=g||{},h=mraid.getMaxSize(),b=parseInt(g.width)||h.width,h=parseInt(g.height)||h.height,a=a||g.url,d=!a||a.length==0;e==1?(a=parseInt(g.left)||0,g=parseInt(g.top)||0,e=b-50,d=document.createElement("div"),d.id="mugeda_mraid_close",
d.align="middle",d.style.display="none",d.style.position="absolute",d.style.color="white",d.style.width="38px",d.style.height="38px",d.style.left=e+"px",d.style.top="4px",d.style.cursor="pointer",d.style.background="rgba(0,0,0,0.5)",d.style.border="4px solid white",d.style.borderRadius="23px",d.style.fontSize="24px",d.style.fontFamily="arial",d.style.lineHeight="38px",this.idResized="mugeda_mraid_close",d.innerHTML="&#10006;",document.body.appendChild(d),mraid.setResizeProperties({width:b,height:h,
offsetX:a,offsetY:g,allowOffscreen:false}),mraid.resize()):(mraid.setExpandProperties({width:b,height:h,isModal:true,useCustomClose:false}),d?mraid.expand():mraid.expand(a))}},sendEmail:function(a){window.open("mailto:"+a.email_addr+"?subject="+a.email_title+"&body="+a.email_body,"_self")},savePicture:function(a){this.mraidReadyStatus==1&&mraid.supports("storePicture")&&mraid.storePicture(a.url)},addCalendarEvent:function(a){this.mraidReadyStatus==1&&mraid.supports("calendar")&&mraid.createCalendarEvent({summary:a.calendar_summary,
description:a.calendar_desc,location:a.calendar_location,start:a.calendar_start_time,end:a.calendar_end_time})},createHTML5VideoTag:function(){var a=G("mugedaVideoHolder");if(a)return a;a=document.createElement("div");a.id="mugedaVideoHolder";a.style.margin=0;a.style.padding=0;a.style.backgroundColor="rgba(0,0,0,0.8)";a.style.position="fixed";a.style.top=0;a.style.left=0;a.style.width=0;a.style.height=0;a.innerHTML='<video id="mugeda_video" onclick="this.play();" controls="controls" style="width:100%;height:100%;"></video><div id="mugeda_video_close" align="middle" style="position: absolute;color:white;width: 24px;height: 24px;right: 8px;top: -16px;cursor:pointer;background: rgba(0,0,0,0.5);border: 3px solid white;border-radius: 15px;font-family:arial;font-size: 16px;line-height:24px;">&#10006;</div>';
a.style.display="none";document.body.appendChild(a);G("mugeda_video").onclick=function(){this.paused?this.play():this.pause()};return a},playHTML5Video:function(a){var e=a.left||0,g=a.top||0,h=a.width||(window.aniData?window.aniData.width:320),b=a.height||(window.aniData?window.aniData.height:240);if(typeof Mugeda!="undefined"){var d=Mugeda.getCanvas(),d=getElementOffset(d);e+=d.left;g+=d.top}d=this.createHTML5VideoTag();(d=G("mugedaVideoHolder"))||(d=document.createElement("div"));d.style.top=g+
"px";d.style.left=e+"px";d.style.width=h+"px";d.style.height=b+"px";d.style.display="block";var m=G("mugeda_video");G("mugeda_video_close").style.display=a.close_button?"block":"none";m.src=a.url;m.load();setTimeout(function(){m.play();setTimeout(function(){if(a.close_button)G("mugeda_video_close").onclick=function(){var a=G("mugeda_video");if(a)a.src="",a.load();G("mugedaVideoHolder").style.display="none"}},1E3)},10)},playVideo:function(a){this.mraidReadyStatus!=1?this.playHTML5Video({url:a.video_url,
left:parseInt(a.video_left),top:parseInt(a.video_top),width:parseInt(a.video_width),height:parseInt(a.video_height),close_button:parseInt(a.video_close)==1,auto:parseInt(a.video_autoplay)==1}):mraid.playVideo(a.video_url)},sendShortMessage:function(a){window.open("sms:"+a.phone_number+"?body="+a.sms_body,"_self")},makePhoneCall:function(a){window.open("tel:"+a.phone_number,"_self")}};
MugedaBehavior={pause:function(){typeof Mugeda!="undefined"&&Mugeda.pause&&Mugeda.pause()},resume:function(a){typeof Mugeda!="undefined"&&Mugeda.resume&&Mugeda.resume(a)},next:function(){typeof Mugeda!="undefined"&&Mugeda.next&&Mugeda.next()},previous:function(){typeof Mugeda!="undefined"&&Mugeda.previous&&Mugeda.previous()},gotoAndPlay:function(a){typeof Mugeda!="undefined"&&Mugeda.gotoAndPlay&&Mugeda.gotoAndPlay(a)},gotoAndPause:function(a){typeof Mugeda!="undefined"&&Mugeda.gotoAndPause&&Mugeda.gotoAndPause(a)},
callback:function(a){if(window&&a.name&&a.name.length&&window[a.name])window[a.name]()},map:function(a){var e=a.map_key.replace(/(\n|\r)/g,"+"),a=a.map_address.replace(/(\n|\r)/g,"+");window.open("https://maps.google.com/maps?q="+(e+""+(a.length?"+near+"+a:""))+"&z=12")},popupForm:function(a){function e(a){var c,b,d,e=document.cookie.split(";");for(c=0;c<e.length;c++)if(b=e[c].substr(0,e[c].indexOf("=")),d=e[c].substr(e[c].indexOf("=")+1),b=b.replace(/^\s+|\s+$/g,""),b==a.toLowerCase())return unescape(d);
return""}function g(a,c){var b=new Date;b.setDate(b.getDate()+365);b=escape(c)+"; expires="+b.toUTCString();document.cookie=a.toLowerCase()+"="+b}if(a&&a.url){var h=[];if(!a.html){var b="";a.title&&(b+='<div align="center"><h2>'+a.title+"</h2></div>");var d=a.items||[];window.popupFormFields=d;var m="",p=-10;navigator.userAgent.toLowerCase().indexOf("android")>-1&&(m="-webkit-transform: scale(2,2);margin-right:4px;margin-left:8px;",p=3);for(var j=0;j<d.length;j++){var c=d[j],l=(c.value||"").trim();
if(l){for(var l=l.split("\n"),f=[],k=0;k<l.length;k++){var q=l[k].split("("),n=q[0],q=(q[1]||"").replace(/\)$/,"")||n,o=["FORMID",q,j,k].join("_");f[k]={id:o,text:n,value:q}}l=f}o='id="popupFormField_'+j+'"';switch(c.type){case "radio":b+="<div "+o+' class="popupFormRadioList">';c.description&&(b+="<span>"+c.description+(c.required?"*":"")+":</span><br />");b+='<div class="mformradio">';for(k=0;k<l.length;k++)f=l[k],n=e(f.id),b+='<label><input type="radio" name="'+c.id+'" value="'+f.value+'" id="'+
f.id+'" '+(n=="true"?"checked=checked":"")+" ><span>"+f.text+"</span></label>",h[f.id]=f.id;b+="</div></div>";break;case "checkbox":b+="<div "+o+' class="popupFormCheckbox">';c.description&&(b+="<span>"+c.description+(c.required?"*":"")+":</span><br />");b+='<div class="mformcheck">';for(k=0;k<l.length;k++)f=l[k],n=e(f.id),b+='<input type="checkbox" value="'+f.value+'" id="'+f.id+'" '+(n=="true"?"checked=true":"")+' ><label for="'+f.id+'" >'+f.text+"</label>",h[f.id]=f.id;b+="</div></div>";break;
case "select":b+="<div "+o+' class="popupFormSelectList">';c.description&&(b+="<span>"+c.description+(c.required?"*":"")+":</span><br />");b+='<select id="_map_'+c.description+'">';c.required&&(b+='<option value=""></option>');n=e(c.description);for(k=0;k<l.length;k++)f=l[k],b+='<option value="'+f.value+'" '+(n==f.value?"selected=selected":"")+">"+f.text+"</option>";b+="</select>";b+="</div>";h[c.description]="_map_"+c.description;break;case "phone":b+="<div "+o+' class="popupFormInputBox">';b+='<label class="inputlabel">'+
c.description+(c.required?"*":"")+':</label><input id="_mcp_'+escape(c.description)+'" type="telephone" value="'+(c.value.length?c.value:e(c.description))+'" >';b+="</div>";h[c.description]="_mcp_"+escape(c.description);break;case "email":b+="<div "+o+' class="popupFormInputBox">';b+='<label class="inputlabel">'+c.description+(c.required?"*":"")+':</label><input id="_mcp_'+escape(c.description)+'" type="email" value="'+(c.value.length?c.value:e(c.description))+'" >';b+="</div>";h[c.description]="_mcp_"+
escape(c.description);break;default:b+="<div "+o+' class="popupFormInputBox">',b+='<label class="inputlabel">'+c.description+(c.required?"*":"")+':</label><input id="_mcp_'+escape(c.description)+'" type="text" value="'+(c.value.length?c.value:e(c.description))+'" >',b+="</div>",h[c.description]="_mcp_"+escape(c.description)}}b+='<div class="popupFormButtons">';b+='<input id="actionButton" type="submit" value="'+a.submitName+'" class="popupFormSubmit">';b+='<input type="button" value="'+a.cancelName+
'" class="popupFormCancel" id="popupFormCancel">';b+="</div>";a.html=b}var i=this.popupFormDiv;if(!i)j=document.createElement("div"),j.className="popupFormMask",document.body.appendChild(j),i=document.createElement("div"),i.style.display="none",i.className="popupForm",i.innerHTML='<form method="get" target="popupFormIframe" autocomplete="on"></form><iframe name="popupFormIframe" id="popupFormIframe" style="display:none"></iframe><style>.popupFormMask{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.2);}.popupForm{position:absolute;width:300px;background:rgba(255,255,255,1);box-shadow:0 0 20px rgba(0,0,0,.5);font-size:16px;font-family:Tahoma,"\u5fae\u8f6f\u96c5\u9ed1",Arial, SimHei;}.popupForm, .popupForm form{border-radius:4px;}.popupForm *{margin:0;}.popupForm .inputlabel{margin:4px 8px;width:96px;height:28px;font-size:16px;line-height:28px;display:block;float:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.popupForm span{color:#333333;}.popupForm label{color:#333333;}.popupForm h2{margin:2px;border-radius:2px 2px 0 0;padding:8px;font-weight:bold;font-size:18px;background-color:#86C4F3;}.popupFormInputBox{padding:5px 0;text-align:left;}.popupFormInputBox input{border-radius:4px;margin:4px 8px;width:160px;height:28px;text-indent:8px;border:1px solid #bbb;font-size:16px;padding:0;}.popupFormSelectList{padding:8px;}.popupFormSelectList select{margin: 8px 0;font-size:16px;}.popupFormButtons{padding:8px;text-align:center;}.popupFormButtons input{width:96px; height:28px;border-radius:4px;border-width:1px;font-size:16px;}.popupFormSubmit{margin-right:20px;background-color:#86C4F3;border-color:#5EAAE2;}.popupFormCancel{background-color:#EEEEEE;border-color:#DDDDDD;}.popupFormRadioList{padding:8px;height:64px;}.popupFormRadioList input{margin:0 5px 0 8px;}.popupFormCheckbox{padding:8px 8px 0 8px;}.mformradio{margin:8px 0;background-color:#EFEFEF;border-radius:8px;border:1px solid #AAAAAA;overflow:hidden;float:left;}.mformradio label{float:left; min-width:64px;}.mformradio label span{text-align:center;padding:6px 8px;display:block;border-right:#ccc 1px solid}.mformradio label input{position:absolute;top:-99999px;}.mformradio input:checked + span{background-color:#0080ff;color:#F7F7F7;}.mformcheck{margin:8px 0;}.mformcheck input{'+
m+"width:28px;height:28px;background-color:#EFEFEF;}.mformcheck input:checked{background-color:#0080ff;}.mformcheck label{position: relative;top:"+p+"px;font-size:16px;padding-left: 4px;padding-right:8px;}</style>",document.body.appendChild(i),this.popupFormDiv=i,i.mask=j,i.form=i.childNodes[0],i.form.onclick=function(a){a.cancelBubble=false},i.form.onsubmit=function(){G("popupFormIframe").onload=null;for(c in h){var b=document.getElementById(h[c]);b&&(b.type=="checkbox"||b.type=="radio"?g(c,b.checked):
g(c,b.value))}setTimeout(function(){for(var b=[],c=window.popupFormFields,d=0;d<c.length;d++){var e=c[d],h=G("popupFormField_"+d),f="",g=h.querySelectorAll("select");g.length==0&&(g=h.querySelectorAll("input"));if(g.length==1)f=g[0].value||"";else if(g.length>1){for(var f=[],j=0;j<g.length;j++)if(h=g[j],h.checked&&(f.push(h.value),h.type=="radio"))break;f=f.join(",")}if(e.required&&!f){alert((e.description||"item")+" required");g[0].focus();return}if(f)switch(e.type){case "phone":if(!/^\d+$/.test(f)){alert(Hanimation.Message.CheckNumber);
g[0].focus();return}break;case "email":if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(f)){alert(Hanimation.Message.CheckEmail);g[0].focus();return}}b.push(e.id+"="+f||"")}G("actionButton").value=a.pendingName;b=b.join("&");b=a.url+"?"+encodeURIComponent(b);a.loadFinished=function(){i.style.display="none";i.mask.style.display="none"};try{window.open(b,"popupFormIframe"),G("popupFormIframe").onload=function(){a.loadFinished();MugedaTracker.fireEvent({category:"interaction",action:"form",label:"",
value:a.id?parseInt(a.id,36):0});alert(a.msg)}}catch(k){a.loadFinished(),alert("Form submittion failed. Please try again. ")}},200);return false};i.style.display="";i.mask.style.display="";i.form.innerHTML=a.html;if(a.id)i.form.id=a.id;if(a.background)i.form.style.background=a.background;setTimeout(function(){G("popupFormCancel").onclick=function(){i.style.display="none";i.mask.style.display="none"}},600);m=document.querySelectorAll(".popupFormInput");for(j=0;j<m.length;j++)p=m[j],p.onfocus=onInputFocus,
p.onblur=onInputBlur;j=a.target?a.target.getBoundingClientRect():{left:0,top:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};i.style.left=Math.max(2,j.left+document.documentElement.scrollLeft+(j.width-i.offsetWidth)/2)+"px";i.style.top=Math.max(2,j.top+document.documentElement.scrollTop+(j.height-i.offsetHeight)/2)+"px"}},processAction:function(a,e,g){a.type=="pause"?this.pause():a.type=="play"?this.resume(1):a.type=="next"?this.next():a.type=="previous"?
this.previous():a.type=="callback"?this.callback(a.param):a.type=="map"?this.map(a.param):a.type=="gotoAndPlay"?this.gotoAndPlay(isDefined(a.param.frame_number)?a.param.frame_number:parseInt(a.param)):a.type=="gotoAndPause"||a.type=="gotoAndStop"?this.gotoAndPause(isDefined(a.param.frame_number)?a.param.frame_number:parseInt(a.param)):a.type=="call"?MugedaMraid.makePhoneCall(a.param):a.type=="sms"?MugedaMraid.sendShortMessage(a.param):a.type=="email"?MugedaMraid.sendEmail(a.param):a.type=="video"?
MugedaMraid.playVideo(a.param):a.type=="picture"?MugedaMraid.savePicture(a.param):a.type=="calendar"?MugedaMraid.addCalendarEvent(a.param):a.type=="expand"?MugedaMraid.expand(a.param.url,0,a.param):a.type=="resize"&&MugedaMraid.expand("",1,a.param);var h="refid="+(new Date).getTime();for(item in a.param)h+="&"+item+"="+a.param[item];e=="click"&&window.event&&window.event.stopPropagation&&window.event.stopPropagation();g&&MugedaTracker.fireEvent({category:"interaction",action:a.type,label:h,value:0})}};
MugedaTracker={fireEvent:function(a){this.fireGAEvent(a.category,a.action,a.label,a.value,a.noninteraction)},fireGAEvent:function(a,e,g,h,b){typeof _gaq!="undefined"&&(_gaq.push(["_trackEvent",a,e,g,h,b]),typeof _ga_mugeda_use_custom!="undefined"&&_gaq.push(["custom._trackEvent",a,e,g,h,b]))}};
function mraidReady(){parseFloat(mraid.getVersion())-0.999>0?(MugedaMraid.mraidReadyStatus=1,mraid.addEventListener("error",function(){}),mraid.addEventListener("stateChange",function(){var a=mraid.getState();MugedaMraid.setMraidState(a)}),mraid.addEventListener("sizeChange",function(){})):console.log("mraidReady is called, but with no correct version (>= 1.0) supported.")}var mraidReadyTimeout,mraidTimeOut=100,mraidCounter=0;
function readyListener(){typeof mraid==="undefined"?(mraidCounter++,mraidCounter<mraidTimeOut&&(mraidReadyTimeout=setTimeout(readyListener,100))):mraid.getState()==="loading"?mraid.addEventListener("ready",mraidReady):mraidReady()}readyListener();try{var htmlDoc=document.getElementsByTagName("head").item(0),js=document.createElement("script"),s="mraid.js";js.setAttribute("type","text/javascript");js.setAttribute("src",s);htmlDoc.appendChild(js);js.onload=function(){};js.onerror=function(){}}catch(e$$7){alert(e$$7.toString())};