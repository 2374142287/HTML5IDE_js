MugedaLocalStorage={setLocalStorage:function(e,t,n){t={value:t,timestamp:(new Date).getTime()};if(n)t.params=n;var r=null;do{try{localStorage.setItem(e,JSON.stringify(t));r=null}catch(i){r=this.cleanStaleLocalStorage();if(!r)console.log("Warning! The local storage is empty while trying to allocate storage space.")}}while(r)},getLocalStorage:function(e){var t=localStorage.getItem(e);return t&&JSON.parse(t)},cleanStaleLocalStorage:function(){var e=null;var t=(new Date).getTime();var n=7*24*3600*1e3;var r=t;var i=false;for(var s=localStorage.length-1;s>=0;s--){var o=localStorage.key(s);var u=localStorage[o];var a=JSON.parse(u);if(a&&a.timestamp<t-n){localStorage.removeItem(o);e=o;i=true}else if(a&&a.timestamp<r){e=o;r=a.timestamp}}if(e&&!i)localStorage.removeItem(e);return e}}